(function(){"use strict";var e={452:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var a=function(){var e=this,n=e._self._c;return n("div",{staticClass:"game"},[n("keyboard-events",{on:{keyup:e.keyboardEvent}}),n("game-field"),n("button",{on:{click:e.startGame}},[e._v("Start")]),n("button",{on:{click:e.refreshGame}},[e._v(" Refresh ")]),n("span",{staticClass:"game__score"},[e._v("Score: "+e._s(e.$score))]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.$gameOver,expression:"$gameOver"}],staticClass:"game__over"},[e._v("GAME OVER!")]),n("div",{staticClass:"controll"},[n("div",{staticClass:"controll__block"},[n("div",{staticClass:"controll__block-top"},[n("button",{staticClass:"controll__block-button",on:{click:function(n){return e.controllButton(0)}}},[e._v("Top")])]),n("div",{staticClass:"controll__block-center"},[n("button",{staticClass:"controll__block-button",on:{click:function(n){return e.controllButton(3)}}},[e._v("Left")]),n("button",{staticClass:"controll__block-button",on:{click:function(n){return e.controllButton(1)}}},[e._v("Right")])]),n("div",{staticClass:"controll__block-top"},[n("button",{staticClass:"controll__block-button",on:{click:function(n){return e.controllButton(2)}}},[e._v("Bot")])])])])],1)},s=[],o=t(3822),r=function(){var e=this,n=e._self._c;return n("div",{staticClass:"game__field"},e._l(e.$field,(function(t){return n("div",{staticClass:"game__line"},e._l(t,(function(e){return n("div",{staticClass:"game__block",class:{"game__block-head":0==e,"game__block-body":1==e,"game__block-food":2==e}})})),0)})),0)},i=[],c={data(){return{}},computed:{...(0,o.rn)("snakeGame",{$field:"field"})}},l=c,d=t(1001),h=(0,d.Z)(l,r,i,!1,null,"73eee1c4",null),k=h.exports,g=function(){var e=this,n=e._self._c;return n("div")},u=[],f={created(){const e=this;this.handler=function(n){e.$emit("keyup",n)},window.addEventListener("keyup",this.handler)},beforeDestroy(){window.removeEventListener("keyup",this.handler)}},m=f,v=(0,d.Z)(m,g,u,!1,null,"6abe5cb4",null),P=v.exports,b={name:"SnakeGame",data(){return{interval:null}},components:{gameField:k,keyboardEvents:P},watch:{$gameOver(e,n){1==e&&clearInterval(this.interval)}},computed:{...(0,o.rn)("snakeGame",{$field:"field",$head:"head",$gameActive:"gameActive",$gameOver:"gameOver",$score:"score",$gameSpeed:"gameSpeed"})},methods:{...(0,o.nv)({gameInit:"snakeGame/gameInit",gameTick:"snakeGame/gameTick"}),...(0,o.OI)({changeXHead:"snakeGame/changeXHead",changeDirection:"snakeGame/changeDirection",setGameActive:"snakeGame/setGameActive"}),startGame(){this.$gameActive||(this.setGameActive(!0),this.interval=setInterval((()=>{this.gameTick()}),200))},refreshGame(){clearInterval(this.interval),this.gameInit()},keyboardEvent(e){switch(e.code){case"ArrowUp":this.changeDirection(0);break;case"ArrowRight":this.changeDirection(1);break;case"ArrowDown":this.changeDirection(2);break;case"ArrowLeft":this.changeDirection(3);break}},controllButton(e){this.changeDirection(e)}},mounted(){this.gameInit()}},L=b,p=(0,d.Z)(L,a,s,!1,null,"22aa2f00",null),_=p.exports},1652:function(e,n,t){var a=t(6369),s=function(){var e=this,n=e._self._c;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},o=[],r=t(1001),i={},c=(0,r.Z)(i,s,o,!1,null,null,null),l=c.exports,d=t(2631);t(452);a.ZP.use(d.ZP);const h=[{path:"/",name:"snake",component:()=>Promise.resolve().then(t.bind(t,452))}],k=new d.ZP({mode:"history",base:"/SnakeTheGame/",routes:h});var g=k,u=t(3822),f=(t(7658),{namespaced:!0,state:{field:[],fieldLength:15,snakeParts:[],snakeLenngth:0,direction:2,gameOver:!1,gameActive:!1,foodPos:[],score:0,gameSpeed:300},mutations:{setField(e,n){e.field=n},changeSnakeParts(e,n){e.snakeParts=[n]},changeHead(e,{newPos:n,addNew:t}){t||e.snakeParts.shift(),e.snakeParts.push([...n])},changeDirection(e,n){e.direction=n},setGameOver(e,n){e.gameOver=n},setGameActive(e,n){e.gameActive=n},setFoodPosition(e,n){e.foodPos=n},setScore(e,n){e.score=n,e.snakeLenngth=e.score},incrementScore(e){e.score=e.score+1,e.snakeLenngth=e.score}},getters:{},actions:{refreshField({commit:e,state:n}){let t=Array(n.fieldLength).fill().map((()=>Array(n.fieldLength)));for(let a=0;a<n.fieldLength;a++)for(let e=0;e<n.fieldLength;e++)t[a][e]=null;return t},gameInit({commit:e,state:n,dispatch:t}){e("setGameOver",!1),e("setGameActive",!1),e("setScore",0),t("refreshField").then((a=>{e("changeSnakeParts",[Math.floor(n.fieldLength/2),Math.floor(n.fieldLength/2)]),a[n.snakeParts[n.snakeLenngth][0]][n.snakeParts[n.snakeLenngth][1]]=0,e("setField",a),t("setRandomFoodPosition")}))},gameTick({commit:e,state:n,dispatch:t,getters:a}){function s(e,n){for(let t=0;t<e.length;t++)if(e[t][0]==n[0]&&e[t][1]==n[1])return!0;return!1}t("refreshField").then((a=>{if(n.gameOver)e("setGameActive",!1);else{switch(e("setGameActive",!0),n.direction){case 0:n.snakeParts[n.snakeLenngth][0]-1>=0?(s(n.snakeParts,[n.snakeParts[n.snakeLenngth][0]-1,n.snakeParts[n.snakeLenngth][1]])&&e("setGameOver",!0),n.foodPos[0]===n.snakeParts[n.snakeLenngth][0]-1&&n.foodPos[1]===n.snakeParts[n.snakeLenngth][1]?(e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0]-1,n.snakeParts[n.snakeLenngth][1]],addNew:!0}),console.log("hit"),e("incrementScore"),t("setRandomFoodPosition")):e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0]-1,n.snakeParts[n.snakeLenngth][1]],addNew:!1})):e("setGameOver",!0);break;case 1:n.snakeParts[n.snakeLenngth][1]+1<n.fieldLength?(s(n.snakeParts,[n.snakeParts[n.snakeLenngth][0],n.snakeParts[n.snakeLenngth][1]+1])&&e("setGameOver",!0),n.foodPos[1]===n.snakeParts[n.snakeLenngth][1]+1&&n.foodPos[0]===n.snakeParts[n.snakeLenngth][0]?(e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0],n.snakeParts[n.snakeLenngth][1]+1],addNew:!0}),console.log("hit"),e("incrementScore"),t("setRandomFoodPosition")):e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0],n.snakeParts[n.snakeLenngth][1]+1],addNew:!1})):e("setGameOver",!0);break;case 2:n.snakeParts[n.snakeLenngth][0]+1<n.fieldLength?(s(n.snakeParts,[n.snakeParts[n.snakeLenngth][0]+1,n.snakeParts[n.snakeLenngth][1]])&&e("setGameOver",!0),n.foodPos[0]===n.snakeParts[n.snakeLenngth][0]+1&&n.foodPos[1]===n.snakeParts[n.snakeLenngth][1]?(e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0]+1,n.snakeParts[n.snakeLenngth][1]],addNew:!0}),console.log("hit"),e("incrementScore"),t("setRandomFoodPosition")):e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0]+1,n.snakeParts[n.snakeLenngth][1]],addNew:!1})):e("setGameOver",!0);break;case 3:n.snakeParts[n.snakeLenngth][1]-1>=0?(s(n.snakeParts,[n.snakeParts[n.snakeLenngth][0],n.snakeParts[n.snakeLenngth][1]-1])&&e("setGameOver",!0),n.foodPos[1]===n.snakeParts[n.snakeLenngth][1]-1&&n.foodPos[0]===n.snakeParts[n.snakeLenngth][0]?(e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0],n.snakeParts[n.snakeLenngth][1]-1],addNew:!0}),console.log("hit"),e("incrementScore"),t("setRandomFoodPosition")):e("changeHead",{newPos:[n.snakeParts[n.snakeLenngth][0],n.snakeParts[n.snakeLenngth][1]-1],addNew:!1})):e("setGameOver",!0);break}a[n.foodPos[0]][n.foodPos[1]]=2,n.snakeParts.forEach((e=>{a[e[0]][e[1]]=0})),e("setField",a)}}))},setRandomFoodPosition({state:e,commit:n}){n("setFoodPosition",[Math.floor(Math.random()*(e.fieldLength-1)),Math.floor(Math.random()*(e.fieldLength-1))])}}});a.ZP.use(u.ZP);var m=new u.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{snakeGame:f}});a.ZP.config.productionTip=!1,new a.ZP({router:g,store:m,render:e=>e(l)}).$mount("#app")}},n={};function t(a){var s=n[a];if(void 0!==s)return s.exports;var o=n[a]={exports:{}};return e[a](o,o.exports,t),o.exports}t.m=e,function(){var e=[];t.O=function(n,a,s,o){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],o=e[d][2];for(var i=!0,c=0;c<a.length;c++)(!1&o||r>=o)&&Object.keys(t.O).every((function(e){return t.O[e](a[c])}))?a.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=s();void 0!==l&&(n=l)}}return n}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,s,o]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,a){var s,o,r=a[0],i=a[1],c=a[2],l=0;if(r.some((function(n){return 0!==e[n]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(c)var d=c(t)}for(n&&n(a);l<r.length;l++)o=r[l],t.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return t.O(d)},a=self["webpackChunkproject"]=self["webpackChunkproject"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(1652)}));a=t.O(a)})();
//# sourceMappingURL=app.9bb23b2d.js.map