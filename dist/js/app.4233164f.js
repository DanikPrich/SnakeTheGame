(function(){"use strict";var e={6837:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"game"},[t("keyboard-events",{on:{keyup:e.keyboardEvent}}),t("game-field"),t("div",{staticClass:"game__bottom"},[t("button",{staticClass:"game__bottom-btns game__bottom-btns_start",on:{click:e.startGame}},[e._v("Start")]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.$gameOver,expression:"!$gameOver"}],staticClass:"game__bottom-score"},[e._v("Score: "+e._s(e.$score))]),t("button",{staticClass:"game__bottom-btns game__bottom-btns_refresh",on:{click:e.refreshGame}},[e._v(" Refresh ")])]),t("div",{directives:[{name:"show",rawName:"v-show",value:e.$gameOver,expression:"$gameOver"}],staticClass:"game__over"},[t("span",{staticClass:"game__over-title"},[e._v("You loose it")]),t("span",{staticClass:"game__over-text"},[e._v("Score: "+e._s(e.$score))])]),t("div",{staticClass:"controll"},[t("div",{staticClass:"controll__block"},[t("div",{staticClass:"controll__block-top"},[t("button",{staticClass:"controll__block-button controll__block-button_top",on:{click:function(t){return e.controllButton(0)}}})]),t("div",{staticClass:"controll__block-center"},[t("button",{staticClass:"controll__block-button controll__block-button_left",on:{click:function(t){return e.controllButton(3)}}}),t("button",{staticClass:"controll__block-button controll__block-button_right",on:{click:function(t){return e.controllButton(1)}}})]),t("div",{staticClass:"controll__block-top"},[t("button",{staticClass:"controll__block-button controll__block-button_bot",on:{click:function(t){return e.controllButton(2)}}})])])])],1)},s=[],o=n(3822),r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"game__field"},e._l(e.$field,(function(n){return t("div",{staticClass:"game__line"},e._l(n,(function(e){return t("div",{staticClass:"game__block",class:{"game__block-head":0==e,"game__block-body":1==e,"game__block-food":2==e}})})),0)})),0)},i=[],c={data(){return{}},computed:{...(0,o.rn)("snakeGame",{$field:"field"})}},l=c,d=n(1001),h=(0,d.Z)(l,r,i,!1,null,"0888336c",null),k=h.exports,g=function(){var e=this,t=e._self._c;return t("div")},u=[],m={created(){const e=this;this.handler=function(t){e.$emit("keyup",t)},window.addEventListener("keyup",this.handler)},beforeDestroy(){window.removeEventListener("keyup",this.handler)}},f=m,v=(0,d.Z)(f,g,u,!1,null,"6abe5cb4",null),P=v.exports,_={name:"SnakeGame",data(){return{interval:null}},components:{gameField:k,keyboardEvents:P},watch:{$gameOver(e,t){1==e&&clearInterval(this.interval)}},computed:{...(0,o.rn)("snakeGame",{$field:"field",$head:"head",$gameActive:"gameActive",$gameOver:"gameOver",$score:"score",$gameSpeed:"gameSpeed"})},methods:{...(0,o.nv)({gameInit:"snakeGame/gameInit",gameTick:"snakeGame/gameTick",changeDirection:"snakeGame/changeDirection"}),...(0,o.OI)({changeXHead:"snakeGame/changeXHead",setGameActive:"snakeGame/setGameActive"}),startGame(){this.$gameActive||(this.setGameActive(!0),this.interval=setInterval((()=>{this.gameTick()}),300))},refreshGame(){clearInterval(this.interval),this.gameInit()},keyboardEvent(e){switch(e.code){case"ArrowUp":this.changeDirection(0);break;case"ArrowRight":this.changeDirection(1);break;case"ArrowDown":this.changeDirection(2);break;case"ArrowLeft":this.changeDirection(3);break}},controllButton(e){this.changeDirection(e)}},mounted(){this.gameInit()}},b=_,p=(0,d.Z)(b,a,s,!1,null,"107cb7b9",null),L=p.exports},8531:function(e,t,n){var a=n(6369),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},o=[],r=n(1001),i={},c=(0,r.Z)(i,s,o,!1,null,null,null),l=c.exports,d=n(2631);n(6837);a.ZP.use(d.ZP);const h=[{path:"/",name:"snake",component:()=>Promise.resolve().then(n.bind(n,6837))}],k=new d.ZP({mode:"history",base:"/SnakeTheGame/",routes:h});var g=k,u=n(3822);n(7658);function m(e,t){for(let n=0;n<e.length;n++)if(e[n][0]==t[0]&&e[n][1]==t[1])return!0;return!1}function f(e){return[Math.floor(Math.random()*e),Math.floor(Math.random()*e)]}var v={namespaced:!0,state:{field:[],fieldLength:15,snakeParts:[],snakeLenngth:0,direction:2,gameOver:!1,gameActive:!1,foodPos:[],score:0,gameSpeed:300},mutations:{setField(e,t){e.field=t},changeSnakeParts(e,t){e.snakeParts=[t]},changeHead(e,{newPos:t,addNew:n}){n||e.snakeParts.shift(),e.snakeParts.push([...t])},setDirection(e,t){e.direction=t},setGameOver(e,t){e.gameOver=t},setGameActive(e,t){e.gameActive=t},setFoodPosition(e,t){e.foodPos=t},setScore(e,t){e.score=t,e.snakeLenngth=e.score},incrementScore(e){e.score=e.score+1,e.snakeLenngth=e.score}},getters:{},actions:{refreshField({commit:e,state:t}){let n=Array(t.fieldLength).fill().map((()=>Array(t.fieldLength)));for(let a=0;a<t.fieldLength;a++)for(let e=0;e<t.fieldLength;e++)n[a][e]=null;return n},gameInit({commit:e,state:t,dispatch:n}){e("setGameOver",!1),e("setGameActive",!1),e("setScore",0),n("refreshField").then((a=>{e("changeSnakeParts",[Math.floor(t.fieldLength/2),Math.floor(t.fieldLength/2)]),a[t.snakeParts[t.snakeLenngth][0]][t.snakeParts[t.snakeLenngth][1]]=0,e("setField",a),n("setRandomFoodPosition")}))},gameTick({commit:e,state:t,dispatch:n,getters:a}){n("refreshField").then((a=>{if(t.gameOver)e("setGameActive",!1);else{switch(e("setGameActive",!0),t.direction){case 0:t.snakeParts[t.snakeLenngth][0]-1>=0?(m(t.snakeParts,[t.snakeParts[t.snakeLenngth][0]-1,t.snakeParts[t.snakeLenngth][1]])&&e("setGameOver",!0),t.foodPos[0]===t.snakeParts[t.snakeLenngth][0]-1&&t.foodPos[1]===t.snakeParts[t.snakeLenngth][1]?(e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0]-1,t.snakeParts[t.snakeLenngth][1]],addNew:!0}),console.log("hit"),e("incrementScore"),n("setRandomFoodPosition")):e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0]-1,t.snakeParts[t.snakeLenngth][1]],addNew:!1})):e("setGameOver",!0);break;case 1:t.snakeParts[t.snakeLenngth][1]+1<t.fieldLength?(m(t.snakeParts,[t.snakeParts[t.snakeLenngth][0],t.snakeParts[t.snakeLenngth][1]+1])&&e("setGameOver",!0),t.foodPos[1]===t.snakeParts[t.snakeLenngth][1]+1&&t.foodPos[0]===t.snakeParts[t.snakeLenngth][0]?(e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0],t.snakeParts[t.snakeLenngth][1]+1],addNew:!0}),console.log("hit"),e("incrementScore"),n("setRandomFoodPosition")):e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0],t.snakeParts[t.snakeLenngth][1]+1],addNew:!1})):e("setGameOver",!0);break;case 2:t.snakeParts[t.snakeLenngth][0]+1<t.fieldLength?(m(t.snakeParts,[t.snakeParts[t.snakeLenngth][0]+1,t.snakeParts[t.snakeLenngth][1]])&&e("setGameOver",!0),t.foodPos[0]===t.snakeParts[t.snakeLenngth][0]+1&&t.foodPos[1]===t.snakeParts[t.snakeLenngth][1]?(e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0]+1,t.snakeParts[t.snakeLenngth][1]],addNew:!0}),console.log("hit"),e("incrementScore"),n("setRandomFoodPosition")):e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0]+1,t.snakeParts[t.snakeLenngth][1]],addNew:!1})):e("setGameOver",!0);break;case 3:t.snakeParts[t.snakeLenngth][1]-1>=0?(m(t.snakeParts,[t.snakeParts[t.snakeLenngth][0],t.snakeParts[t.snakeLenngth][1]-1])&&e("setGameOver",!0),t.foodPos[1]===t.snakeParts[t.snakeLenngth][1]-1&&t.foodPos[0]===t.snakeParts[t.snakeLenngth][0]?(e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0],t.snakeParts[t.snakeLenngth][1]-1],addNew:!0}),console.log("hit"),e("incrementScore"),n("setRandomFoodPosition")):e("changeHead",{newPos:[t.snakeParts[t.snakeLenngth][0],t.snakeParts[t.snakeLenngth][1]-1],addNew:!1})):e("setGameOver",!0);break}a[t.foodPos[0]][t.foodPos[1]]=2,t.snakeParts.forEach((e=>{a[e[0]][e[1]]=0})),e("setField",a)}}))},changeDirection({state:e,commit:t},n){0==e.direction&&2==n||1==e.direction&&3==n||2==e.direction&&0==n||3==e.direction&&1==n||t("setDirection",n)},setRandomFoodPosition({state:e,commit:t}){let n=f(e.fieldLength-1);t("setFoodPosition",n);while(m(e.snakeParts,n))n=f(e.fieldLength-1),t("setFoodPosition",n)}}};a.ZP.use(u.ZP);var P=new u.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{snakeGame:v}});a.ZP.config.productionTip=!1,new a.ZP({router:g,store:P,render:e=>e(l)}).$mount("#app")}},t={};function n(a){var s=t[a];if(void 0!==s)return s.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,s,o){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],o=e[d][2];for(var i=!0,c=0;c<a.length;c++)(!1&o||r>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[c])}))?a.splice(c--,1):(i=!1,o<r&&(r=o));if(i){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,s,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,o,r=a[0],i=a[1],c=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(c)var d=c(n)}for(t&&t(a);l<r.length;l++)o=r[l],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkproject"]=self["webpackChunkproject"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(8531)}));a=n.O(a)})();
//# sourceMappingURL=app.4233164f.js.map