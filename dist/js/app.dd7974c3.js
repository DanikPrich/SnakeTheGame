(function(){"use strict";var e={8365:function(e,t,n){n.r(t),n.d(t,{default:function(){return G}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"game"},[t("keyboard-events",{on:{keyup:e.keyboardEvent}}),t("game-field"),t("button",{on:{click:e.startGame}},[e._v("Start")]),t("button",{on:{click:e.refreshGame}},[e._v(" Refresh ")]),t("span",{staticClass:"game__score"},[e._v("Score: "+e._s(e.$score))]),t("span",{directives:[{name:"show",rawName:"v-show",value:e.$gameOver,expression:"$gameOver"}],staticClass:"game__over"},[e._v("GAME OVER!")]),t("div",{staticClass:"controll"},[t("div",{staticClass:"controll__block"},[t("div",{staticClass:"controll__block-top"},[t("button",{staticClass:"controll__block-button",on:{click:function(t){return e.controllButton(0)}}},[e._v("Top")])]),t("div",{staticClass:"controll__block-center"},[t("button",{staticClass:"controll__block-button",on:{click:function(t){return e.controllButton(3)}}},[e._v("Left")]),t("button",{staticClass:"controll__block-button",on:{click:function(t){return e.controllButton(1)}}},[e._v("Right")])]),t("div",{staticClass:"controll__block-top"},[t("button",{staticClass:"controll__block-button",on:{click:function(t){return e.controllButton(2)}}},[e._v("Bot")])])])])],1)},a=[],r=n(3822),i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"game__field"},e._l(e.$field,(function(n){return t("div",{staticClass:"game__line"},e._l(n,(function(e){return t("div",{staticClass:"game__block",class:{"game__block-head":0==e,"game__block-body":1==e,"game__block-food":2==e}})})),0)})),0)},s=[],c={data(){return{}},computed:{...(0,r.rn)("snakeGame",{$field:"field"})}},l=c,d=n(1001),u=(0,d.Z)(l,i,s,!1,null,"73eee1c4",null),h=u.exports,f=function(){var e=this,t=e._self._c;return t("div")},m=[],v={created(){const e=this;this.handler=function(t){e.$emit("keyup",t)},window.addEventListener("keyup",this.handler)},beforeDestroy(){window.removeEventListener("keyup",this.handler)}},g=v,b=(0,d.Z)(g,f,m,!1,null,"6abe5cb4",null),_=b.exports,k={name:"SnakeGame",data(){return{interval:null}},components:{gameField:h,keyboardEvents:_},watch:{$gameOver(e,t){1==e&&clearInterval(this.interval)}},computed:{...(0,r.rn)("snakeGame",{$field:"field",$head:"head",$gameActive:"gameActive",$gameOver:"gameOver",$score:"score"})},methods:{...(0,r.nv)({gameInit:"snakeGame/gameInit",gameTick:"snakeGame/gameTick"}),...(0,r.OI)({changeXHead:"snakeGame/changeXHead",changeDirection:"snakeGame/changeDirection",setGameActive:"snakeGame/setGameActive"}),startGame(){this.$gameActive||(this.setGameActive(!0),this.interval=setInterval((()=>{this.gameTick()}),300))},refreshGame(){clearInterval(this.interval),this.gameInit()},keyboardEvent(e){switch(e.code){case"ArrowUp":this.changeDirection(0);break;case"ArrowRight":this.changeDirection(1);break;case"ArrowDown":this.changeDirection(2);break;case"ArrowLeft":this.changeDirection(3);break}},controllButton(e){this.changeDirection(e)}},mounted(){this.gameInit()}},p=k,O=(0,d.Z)(p,o,a,!1,null,"5c552506",null),G=O.exports},1652:function(e,t,n){var o=n(6369),a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],i=n(1001),s={},c=(0,i.Z)(s,a,r,!1,null,null,null),l=c.exports,d=n(2631);n(8365);o.ZP.use(d.ZP);const u=[{path:"/",name:"snake",component:()=>Promise.resolve().then(n.bind(n,8365))}],h=new d.ZP({mode:"history",base:"/SnakeTheGame/",routes:u});var f=h,m=n(3822),v={namespaced:!0,state:{field:[],fieldLength:15,head:[0,0],direction:0,gameOver:!1,gameActive:!1,foodPos:[],score:0},mutations:{setField(e,t){e.field=t},changeHead(e,t){e.head=t},changeYHead(e,t){o.ZP.set(e.head,0,t)},changeXHead(e,t){o.ZP.set(e.head,1,t)},changeDirection(e,t){e.direction=t},setGameOver(e,t){e.gameOver=t},setGameActive(e,t){e.gameActive=t},setFoodPosition(e,t){e.foodPos=t},setScore(e,t){e.score=t},incrementScore(e){e.score=e.score+1}},getters:{},actions:{refreshField({commit:e,state:t}){let n=Array(t.fieldLength).fill().map((()=>Array(t.fieldLength)));for(let o=0;o<t.fieldLength;o++)for(let e=0;e<t.fieldLength;e++)n[o][e]=null;return n},gameInit({commit:e,state:t,dispatch:n}){e("setGameOver",!1),e("setGameActive",!1),e("setScore",0),n("refreshField").then((o=>{e("changeHead",[Math.floor(t.fieldLength/2),Math.floor(t.fieldLength/2)]),o[t.head[0]][t.head[1]]=0,e("setField",o),n("setRandomFoodPosition")}))},gameTick({commit:e,state:t,dispatch:n,getters:o}){n("refreshField").then((o=>{if(t.gameOver)e("setGameActive",!1);else{switch(e("setGameActive",!0),t.direction){case 0:t.head[0]-1>=0?e("changeYHead",t.head[0]-1):e("setGameOver",!0);break;case 1:t.head[1]+1<t.fieldLength?e("changeXHead",t.head[1]+1):e("setGameOver",!0);break;case 2:t.head[0]+1<t.fieldLength?e("changeYHead",t.head[0]+1):e("setGameOver",!0);break;case 3:t.head[1]-1>=0?e("changeXHead",t.head[1]-1):e("setGameOver",!0);break}o[t.foodPos[0]][t.foodPos[1]]=2,o[t.head[0]][t.head[1]]=0,t.foodPos[0]===t.head[0]&&t.foodPos[1]===t.head[1]&&(console.log("hit"),e("incrementScore"),n("setRandomFoodPosition")),e("setField",o)}}))},setRandomFoodPosition({state:e,commit:t}){t("setFoodPosition",[Math.floor(Math.random()*(e.fieldLength-1)),Math.floor(Math.random()*(e.fieldLength-1))])}}};o.ZP.use(m.ZP);var g=new m.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{snakeGame:v}});o.ZP.config.productionTip=!1,new o.ZP({router:f,store:g,render:e=>e(l)}).$mount("#app")}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,r){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](o[c])}))?o.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,r,i=o[0],s=o[1],c=o[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var d=c(n)}for(t&&t(o);l<i.length;l++)r=i[l],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=self["webpackChunkproject"]=self["webpackChunkproject"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(1652)}));o=n.O(o)})();
//# sourceMappingURL=app.dd7974c3.js.map